(function(a,b){function c(a){return new d(a)}function d(a){if(a&&a.__wrapped__)return a;this.__wrapped__=a}function e(a,b){return function(c,d,e){return a.call(b,c,d,e)}}function f(a,b,c){b||(b=0);var d=a.length,e=d-b>=(c||K),f=e?{}:a;if(e)for(var g=b-1;++g<d;)c=a[g]+"",(Z.call(f,c)?f[c]:f[c]=[]).push(a[g]);return function(a){if(e){var c=a+"";return Z.call(f,c)&&-1<v(f[c],a)}return-1<v(f,a,b)}}function g(a,c){var d=a.b,e=c.b,a=a.a,c=c.a;if(a!==c){if(a>c||a===b)return 1;if(a<c||c===b)return-1}return d<e?-1:1}function h(a,b,c){function d(){var h=arguments,i=f?this:b;return e||(a=b[g]),c.length&&(h=h.length?c.concat(ab.call(h)):c),this instanceof d?(l.prototype=a.prototype,i=new l,(h=a.apply(i,h))&&Kb[typeof h]?h:i):a.apply(i,h)}var e=o(a),f=!c,g=a;return f&&(c=b),d}function i(){for(var a,b,c,d=-1,f=arguments.length,h={e:"",f:"",j:"",q:"",c:{d:""},m:{d:""}};++d<f;)for(b in a=arguments[d],a)c=(c=a[b])==E?"":c,/d|i/.test(b)?("string"==typeof c&&(c={b:c,l:c}),h.c[b]=c.b||"",h.m[b]=c.l||""):h[b]=c;a=h.a,b=/^[^,]+/.exec(a)[0],c=h.s,h.g=b,h.h=ub,h.k=Eb,h.n=xb,h.p=X,h.r=h.r!==F,h.s=c==E?Fb:c,h.o==E&&(h.o=Ab),h.f||(h.f="if(!"+b+")return u");if("e"!=b||!h.c.i)h.c=E;b="",h.s&&(b+="'use strict';"),b+="var j,A,k="+h.g+",u",h.j&&(b+="="+h.j),b+=";"+h.f+";"+h.q+";",h.c&&(b+="var l=k.length;j=-1;",h.m&&(b+="if(l===+l){"),h.o&&(b+="if(z.call(k)==x){k=k.split('')}"),b+=h.c.d+";while(++j<l){A=k[j];"+h.c.i+"}",h.m&&(b+="}"));if(h.m){h.c?b+="else{":h.n&&(b+="var l=k.length;j=-1;if(l&&O(k)){while(++j<l){A=k[j+=''];"+h.m.i+"}}else{"),h.h||(b+="var v=typeof k=='function'&&r.call(k,'prototype');");if(h.k&&h.r)b+="var o=-1,p=X[typeof k]?m(k):[],l=p.length;"+h.m.d+";while(++o<l){j=p[o];",h.h||(b+="if(!(v&&j=='prototype')){"),b+="A=k[j];"+h.m.i+"",h.h||(b+="}");else{b+=h.m.d+";for(j in k){";if(!h.h||h.r)b+="if(",h.h||(b+="!(v&&j=='prototype')"),!h.h&&h.r&&(b+="&&"),h.r&&(b+="h.call(k,j)"),b+="){";b+="A=k[j];"+h.m.i+";";if(!h.h||h.r)b+="}"}b+="}";if(h.h){b+="var g=k.constructor;";for(c=0;7>c;c++)b+="j='"+h.p[c]+"';if(","constructor"==h.p[c]&&(b+="!(g&&g.prototype===k)&&"),b+="h.call(k,j)){A=k[j];"+h.m.i+"}"}if(h.c||h.n)b+="}"}return b+=h.e+";return u",Function("D,E,F,c,I,f,J,h,i,M,O,Q,S,T,W,X,m,r,w,x,z","var G=function("+a+"){"+b+"};return G")(Gb,H,A,e,g,Y,$b,Z,B,v,n,Vb,o,Wb,pb,Kb,gb,_,ab,rb,bb)}function j(a){return"\\"+Lb[a]}function k(a){return Ib[a]}function l(){}function m(a){return Jb[a]}function n(a){return bb.call(a)==kb}function o(a){return"function"==typeof a}function p(a,b){var c=F;if(!a||"object"!=typeof a||!b&&n(a))return c;var d=a.constructor;return(!Bb||"function"==typeof a.toString||"string"!=typeof (a+""))&&(!o(d)||d instanceof d)?wb?($b(a,function(a,b,d){return c=!Z.call(d,b),F}),c===F):($b(a,function(a,b){c=b}),c===F||Z.call(a,c)):c}function q(a,b,c,d,e){if(a==E)return a;c&&(b=F);if(c=Kb[typeof a]){var f=bb.call(a);if(!Hb[f]||yb&&n(a))return a;var g=f==lb,c=g||(f==pb?Wb(a,D):c)}if(!c||!b)return c?g?ab.call(a):Zb({},a):a;c=a.constructor;switch(f){case mb:return new c(a==D);case nb:return new c(+a);case ob:case rb:return new c(a);case qb:return c(a.source,R.exec(a))}d||(d=[]),e||(e=[]);for(f=d.length;f--;)if(d[f]==a)return e[f];var h=g?c(f=a.length):{};d.push(a),e.push(h);if(g)for(g=-1;++g<f;)h[g]=q(a[g],b,E,d,e);else _b(a,function(a,c){h[c]=q(a,b,E,d,e)});return h}function r(a,b,c,d){if(a==E||b==E)return a===b;if(a===b)return 0!==a||1/a==1/b;if(Kb[typeof a]||Kb[typeof b])a=a.__wrapped__||a,b=b.__wrapped__||b;var e=bb.call(a);if(e!=bb.call(b))return F;switch(e){case mb:case nb:return+a==+b;case ob:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case qb:case rb:return a==b+""}var f=Gb[e];if(yb&&!f&&(f=n(a))&&!n(b)||!f&&(e!=pb||Bb&&("function"!=typeof a.toString&&"string"==typeof (a+"")||"function"!=typeof b.toString&&"string"==typeof (b+""))))return F;c||(c=[]),d||(d=[]);for(e=c.length;e--;)if(c[e]==a)return d[e]==b;var e=-1,g=D,h=0;c.push(a),d.push(b);if(f){h=a.length;if(g=h==b.length)for(;h--&&(g=r(a[h],b[h],c,d)););return g}f=a.constructor,g=b.constructor;if(f!=g&&(!o(f)||!(f instanceof f&&o(g)&&g instanceof g)))return F;for(var i in a)if(Z.call(a,i)&&(h++,!Z.call(b,i)||!r(a[i],b[i],c,d)))return F;for(i in b)if(Z.call(b,i)&&!(h--))return F;if(ub)for(;7>++e;)if(i=X[e],Z.call(a,i)&&(!Z.call(b,i)||!r(a[i],b[i],c,d)))return F;return D}function s(a,b,c,d){if(!a)return c;var f=a.length,g=3>arguments.length;d&&(b=e(b,d));if(f===+f){var h=Ab&&bb.call(a)==rb?a.split(""):a;for(f&&g&&(c=h[--f]);f--;)c=b(c,h[f],f,a);return c}h=dc(a);for((f=h.length)&&g&&(c=a[h[--f]]);f--;)g=h[f],c=b(c,a[g],g,a);return c}function t(a,b,c){if(a)return b==E||c?a[0]:ab.call(a,0,b)}function u(a,b){var c=[];if(!a)return c;for(var d,e=-1,f=a.length;++e<f;)d=a[e],Vb(d)?$.apply(c,b?d:u(d)):c.push(d);return c}function v(a,b,c){if(!a)return-1;var d=-1,e=a.length;if(c){if("number"!=typeof c)return d=y(a,b),a[d]===b?d:-1;d=(0>c?hb(0,e+c):c)-1}for(;++d<e;)if(a[d]===b)return d;return-1}function w(a,b,c){var d=-Infinity,f=d;if(!a)return f;var g=-1,h=a.length;if(!b){for(;++g<h;)a[g]>f&&(f=a[g]);return f}for(c&&(b=e(b,c));++g<h;)c=b(a[g],g,a),c>d&&(d=c,f=a[g]);return f}function x(a,b,c){return a?ab.call(a,b==E||c?1:b):[]}function y(a,b,c,d){if(!a)return 0;var e=0,f=a.length;if(c){d&&(c=A(c,d));for(b=c(b);e<f;)d=e+f>>>1,c(a[d])<b?e=d+1:f=d}else for(;e<f;)d=e+f>>>1,a[d]<b?e=d+1:f=d;return e}function z(a,b,c,d){var f=[];if(!a)return f;var g=-1,h=a.length,i=[];"function"==typeof b&&(d=c,c=b,b=F);for(c?d&&(c=e(c,d)):c=B;++g<h;)if(d=c(a[g],g,a),b?!g||i[i.length-1]!==d:0>v(i,d))i.push(d),f.push(a[g]);return f}function A(a,b){return Db||cb&&2<arguments.length?cb.call.apply(cb,arguments):h(a,b,ab.call(arguments,2))}function B(a){return a}function C(a){oc(ac(a),function(b){var e=c[b]=a[b];d.prototype[b]=function(){var a=[this.__wrapped__];return arguments.length&&$.apply(a,arguments),a=e.apply(c,a),this.__chain__&&(a=new d(a),a.__chain__=D),a}})}var D=!0,E=null,F=!1,G="object"==typeof exports&&exports&&("object"==typeof global&&global&&global==global.global&&(a=global),exports),H=Array.prototype,I=Object.prototype,J=0,K=30,L=a._,M=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,N=/&(?:amp|lt|gt|quot|#x27);/g,O=/\b__p\+='';/g,P=/\b(__p\+=)''\+/g,Q=/(__e\(.*?\)|\b__t\))\+'';/g,R=/\w*$/,S=/(?:__e|__t=)\(\s*(?![\d\s"']|this\.)/g,T=RegExp("^"+(I.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),U=/($^)/,V=/[&<>"']/g,W=/['\n\r\t\u2028\u2029\\]/g,X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Y=H.concat,Z=I.hasOwnProperty,$=H.push,_=I.propertyIsEnumerable,ab=H.slice,bb=I.toString,cb=T.test(cb=ab.bind)&&cb,db=Math.floor,eb=T.test(eb=Array.isArray)&&eb,fb=a.isFinite,gb=T.test(gb=Object.keys)&&gb,hb=Math.max,ib=Math.min,jb=Math.random,kb="[object Arguments]",lb="[object Array]",mb="[object Boolean]",nb="[object Date]",ob="[object Number]",pb="[object Object]",qb="[object RegExp]",rb="[object String]",sb=a.clearTimeout,tb=a.setTimeout,ub,vb,wb,xb=D;(function(){function a(){this.x=1}var b={0:1,length:1},c=[];a.prototype={valueOf:1,y:1};for(var d in new a)c.push(d);for(d in arguments)xb=!d;ub=4>(c+"").length,wb="x"!=c[0],vb=(c.splice.call(b,0,1),b[0])})(1);var yb=!n(arguments),zb="x"!=ab.call("x")[0],Ab="xx"!="x"[0]+Object("x")[0];try{var Bb=("[object Object]",bb.call(a.document||0)==pb)}catch(Cb){}var Db=cb&&/\n|Opera/.test(cb+bb.call(a.opera)),Eb=gb&&/^.+$|true/.test(gb+!!a.attachEvent),Fb=!Db,Gb={};Gb[mb]=Gb[nb]=Gb["[object Function]"]=Gb[ob]=Gb[pb]=Gb[qb]=F,Gb[kb]=Gb[lb]=Gb[rb]=D;var Hb={};Hb[kb]=Hb["[object Function]"]=F,Hb[lb]=Hb[mb]=Hb[nb]=Hb[ob]=Hb[pb]=Hb[qb]=Hb[rb]=D;var Ib={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Jb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'"},Kb={"boolean":F,"function":D,object:D,number:F,string:F,"undefined":F,unknown:D},Lb={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};c.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""};var Mb={a:"e,d,y",j:"e",q:"if(!d)d=i;else if(y)d=c(d,y)",i:"if(d(A,j,e)===false)return u"},Nb={j:"{}",q:"var q;if(typeof d!='function'){var hh=d;d=function(A){return A[hh]}}else if(y)d=c(d,y)",i:"q=d(A,j,e);(h.call(u,q)?u[q]++:u[q]=1)"},Ob={j:"true",i:"if(!d(A,j,e))return!u"},Pb={r:F,s:F,a:"n",j:"n",q:"for(var a=1,b=arguments.length;a<b;a++){if(k=arguments[a]){",i:"u[j]=A",e:"}}"},Qb={j:"[]",i:"d(A,j,e)&&u.push(A)"},Rb={q:"if(y)d=c(d,y)"},Sb={i:{l:Mb.i}},Tb={j:"",f:"if(!e)return[]",d:{b:"u=Array(l)",l:"u="+(Eb?"Array(l)":"[]")},i:{b:"u[j]=d(A,j,e)",l:"u"+(Eb?"[o]=":".push")+"(d(A,j,e))"}},Ub={r:F,a:"n,d,y",j:"{}",q:"var R=typeof d=='function';if(!R){var t=f.apply(E,arguments)}else if(y)d=c(d,y)",i:"if(R?!d(A,j,n):M(t,j)<0)u[j]=A"};yb&&(n=function(a){return!!a&&!!Z.call(a,"callee")});var Vb=eb||function(a){return bb.call(a)==lb};o(/x/)&&(o=function(a){return"[object Function]"==bb.call(a)});var Wb=Kb.__proto__!=I?p:function(a,b){if(!a)return F;var c=a.valueOf,d="function"==typeof c&&(d=c.__proto__)&&d.__proto__;return d?a==d||a.__proto__==d&&(b||!n(a)):p(a)},Xb=i({a:"n",j:"[]",i:"u.push(j)"}),Yb=i(Pb,{i:"if(u[j]==null)"+Pb.i}),Zb=i(Pb),$b=i(Mb,Rb,Sb,{r:F}),_b=i(Mb,Rb,Sb),ac=i({r:F,a:"n",j:"[]",i:"if(S(A))u.push(j)",e:"u.sort()"}),bc=i({a:"n",j:"{}",i:"u[A]=j"}),cc=i({a:"A",j:"true",q:"var H=z.call(A),l=A.length;if(D[H]"+(yb?"||O(A)":"")+"||(H==W&&l===+l&&S(A.splice)))return!l",i:{l:"return false"}}),dc=gb?function(a){var b=typeof a;return"function"==b&&_.call(a,"prototype")?Xb(a):a&&Kb[b]?gb(a):[]}:Xb,ec=i(Pb,{a:"n,cc,N",q:"var b,P,dd,ee,C=arguments,a=0;if(N==T){b=2;dd=C[3];ee=C[4]}else{b=C.length;dd=[];ee=[]}while(++a<b){if(k=C[a]){",i:"if((cc=A)&&((P=Q(cc))||T(cc))){var K=false,ff=dd.length;while(ff--)if(K=dd[ff]==cc)break;if(K){u[j]=ee[ff]}else{dd.push(cc);ee.push(A=(A=u[j])&&P?(Q(A)?A:[]):(T(A)?A:{}));u[j]=G(A,cc,T,dd,ee)}}else if(cc!=null)u[j]=cc"}),fc=i(Ub),gc=i({a:"n",j:"[]",i:"u"+(Eb?"[o]=":".push")+"([j,A])"}),hc=i(Ub,{q:"if(typeof d!='function'){var q,t=f.apply(E,arguments),l=t.length;for(j=1;j<l;j++){q=t[j];if(q in n)u[q]=n[q]}}else{if(y)d=c(d,y)",i:"if(d(A,j,n))u[j]=A",e:"}"}),ic=i({a:"n",j:"[]",i:"u.push(A)"}),jc=i({a:"e,gg",j:"false",o:F,d:{b:"if(z.call(e)==x)return e.indexOf(gg)>-1"},i:"if(A===gg)return true"}),kc=i(Mb,Nb),lc=i(Mb,Ob),mc=i(Mb,Qb),nc=i(Mb,Rb,{j:"",i:"if(d(A,j,e))return A"}),oc=i(Mb,Rb),pc=i(Mb,Nb,{i:"q=d(A,j,e);(h.call(u,q)?u[q]:u[q]=[]).push(A)"}),qc=i(Tb,{a:"e,U",q:"var C=w.call(arguments,2),R=typeof U=='function'",i:{b:"u[j]=(R?U:A[U]).apply(A,C)",l:"u"+(Eb?"[o]=":".push")+"((R?U:A[U]).apply(A,C))"}}),rc=i(Mb,Tb),sc=i(Tb,{a:"e,aa",i:{b:"u[j]=A[aa]",l:"u"+(Eb?"[o]=":".push")+"(A[aa])"}}),tc=i({a:"e,d,B,y",j:"B",q:"var V=arguments.length<3;if(y)d=c(d,y)",d:{b:"if(V)u=k[++j]"},i:{b:"u=d(u,A,j,e)",l:"u=V?(V=false,A):d(u,A,j,e)"}}),uc=i(Mb,Qb,{i:"!"+Qb.i}),vc=i(Mb,Ob,{j:"false",i:Ob.i.replace("!","")}),wc=i(Mb,Nb,Tb,{i:{b:"u[j]={a:d(A,j,e),b:j,c:A}",l:"u"+(Eb?"[o]=":".push")+"({a:d(A,j,e),b:j,c:A})"},e:"u.sort(I);l=u.length;while(l--)u[l]=u[l].c"}),xc=i(Qb,{a:"e,Z",q:"var t=[];J(Z,function(A,q){t.push(q)});var bb=t.length",i:"for(var q,Y=true,s=0;s<bb;s++){q=t[s];if(!(Y=A[q]===Z[q]))break}Y&&u.push(A)"}),yc=i({r:F,s:F,a:"n",j:"n",q:"var L=arguments,l=L.length;if(l>1){for(var j=1;j<l;j++)u[L[j]]=F(u[L[j]],u);return u}",i:"if(S(u[j]))u[j]=F(u[j],u)"});c.VERSION="0.7.0",c.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}},c.bind=A,c.bindAll=yc,c.chain=function(a){return a=new d(a),a.__chain__=D,a},c.clone=q,c.compact=function(a){var b=[];if(!a)return b;for(var c=-1,d=a.length;++c<d;)a[c]&&b.push(a[c]);return b},c.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}},c.contains=jc,c.countBy=kc,c.debounce=function(a,b,c){function d(){h=E,c||(f=a.apply(g,e))}var e,f,g,h;return function(){var i=c&&!h;return e=arguments,g=this,sb(h),h=tb(d,b),i&&(f=a.apply(g,e)),f}},c.defaults=Yb,c.defer=function(a){var c=ab.call(arguments,1);return tb(function(){return a.apply(b,c)},1)},c.delay=function(a,c){var d=ab.call(arguments,2);return tb(function(){return a.apply(b,d)},c)},c.difference=function(a){var b=[];if(!a)return b;for(var c=-1,d=a.length,e=Y.apply(b,arguments),e=f(e,d);++c<d;)e(a[c])||b.push(a[c]);return b},c.escape=function(a){return a==E?"":(a+"").replace(V,k)},c.every=lc,c.extend=Zb,c.filter=mc,c.find=nc,c.first=t,c.flatten=u,c.forEach=oc,c.forIn=$b,c.forOwn=_b,c.functions=ac,c.groupBy=pc,c.has=function(a,b){return a?Z.call(a,b):F},c.identity=B,c.indexOf=v,c.initial=function(a,b,c){return a?ab.call(a,0,-(b==E||c?1:b)):[]},c.intersection=function(a){var b=[];if(!a)return b;var c,d=arguments.length,e=[],g=-1,h=a.length;a:for(;++g<h;)if(c=a[g],0>v(b,c)){for(var i=1;i<d;i++)if(!(e[i]||(e[i]=f(arguments[i])))(c))continue a;b.push(c)}return b},c.invert=bc,c.invoke=qc,c.isArguments=n,c.isArray=Vb,c.isBoolean=function(a){return a===D||a===F||bb.call(a)==mb},c.isElement=function(a){return a?1===a.nodeType:F},c.isEmpty=cc,c.isEqual=r,c.isFinite=function(a){return fb(a)&&bb.call(a)==ob},c.isFunction=o,c.isNaN=function(a){return bb.call(a)==ob&&a!=+a},c.isNull=function(a){return a===E},c.isObject=function(a){return a?Kb[typeof a]:F},c.isUndefined=function(a){return a===b},c.keys=dc,c.last=function(a,b,c){if(a){var d=a.length;return b==E||c?a[d-1]:ab.call(a,-b||d)}},c.lastIndexOf=function(a,b,c){if(!a)return-1;var d=a.length;for(c&&"number"==typeof c&&(d=(0>c?hb(0,d+c):ib(c,d-1))+1);d--;)if(a[d]===b)return d;return-1},c.lateBind=function(a,b){return h(b,a,ab.call(arguments,2))},c.map=rc,c.max=w,c.memoize=function(a,b){var c={};return function(){var d=b?b.apply(this,arguments):arguments[0];return Z.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}},c.merge=ec,c.min=function(a,b,c){var d=Infinity,f=d;if(!a)return f;var g=-1,h=a.length;if(!b){for(;++g<h;)a[g]<f&&(f=a[g]);return f}for(c&&(b=e(b,c));++g<h;)c=b(a[g],g,a),c<d&&(d=c,f=a[g]);return f},c.mixin=C,c.noConflict=function(){return a._=L,this},c.object=function(a,b){if(!a)return{};for(var c=-1,d=a.length,e={};++c<d;)b?e[a[c]]=b[c]:e[a[c][0]]=a[c][1];return e},c.omit=fc,c.once=function(a){var b,c=F;return function(){return c?b:(c=D,b=a.apply(this,arguments),a=E,b)}},c.pairs=gc,c.partial=function(a){return h(a,ab.call(arguments,1))},c.pick=hc,c.pluck=sc,c.random=function(a,b){return a==E&&b==E&&(b=1),a=+a||0,b==E&&(b=a,a=0),a+db(jb()*((+b||0)-a+1))},c.range=function(a,b,c){a=+a||0,c=+c||1,b==E&&(b=a,a=0);for(var d=-1,b=hb(0,Math.ceil((b-a)/c)),e=Array(b);++d<b;)e[d]=a,a+=c;return e},c.reduce=tc,c.reduceRight=s,c.reject=uc,c.rest=x,c.result=function(a,b){if(!a)return E;var c=a[b];return o(c)?a[b]():c},c.shuffle=function(a){if(!a)return[];for(var b,c=-1,d=a.length,e=Array(d);++c<d;)b=db(jb()*(c+1)),e[c]=e[b],e[b]=a[c];return e},c.size=function(a){if(!a)return 0;var b=a.length;return b===+b?b:dc(a).length},c.some=vc,c.sortBy=wc,c.sortedIndex=y,c.tap=function(a,b){return b(a),a},c.template=function(a,b,d){d||(d={});var a=a+"",e,f,g=0,h=c.templateSettings,i="__p += '",k=d.variable||h.variable,l=k;a.replace(RegExp((d.escape||h.escape||U).source+"|"+(d.interpolate||h.interpolate||U).source+"|"+(d.evaluate||h.evaluate||U).source+"|$","g"),function(b,c,d,f,h){i+=a.slice(g,h).replace(W,j),i+=c?"'+__e("+c+")+'":f?"';"+f+";__p+='":d?"'+((__t=("+d+"))==null?'':__t)+'":"",e||(e=f||M.test(c||d)),g=h+b.length}),i+="';",l||(k="obj",e?i="with("+k+"){"+i+"}":(d=RegExp("(\\(\\s*)"+k+"\\."+k+"\\b","g"),i=i.replace(S,"$&"+k+".").replace(d,"$1__d"))),i=(e?i.replace(O,""):i).replace(P,"$1").replace(Q,"$1;"),i="function("+k+"){"+(l?"":k+"||("+k+"={});")+"var __t,__p='',__e=_.escape"+(e?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":(l?"":",__d="+k+"."+k+"||"+k)+";")+i+"return __p}";try{f=Function("_","return "+i)(c)}catch(m){throw m.source=i,m}return b?f(b):(f.source=i,f)},c.throttle=function(a,b){function c(){h=new Date,g=E,e=a.apply(f,d)}var d,e,f,g,h=0;return function(){var i=new Date,j=b-(i-h);return d=arguments,f=this,0>=j?(h=i,e=a.apply(f,d)):g||(g=tb(c,j)),e}},c.times=function(a,b,c){var d=-1,e=Array(a||0);if(c)for(;++d<a;)e[d]=b.call(c,d);else for(;++d<a;)e[d]=b(d);return e},c.toArray=function(a){if(!a)return[];var b=a.length;return b===+b?(zb?bb.call(a)==rb:"string"==typeof a)?a.split(""):ab.call(a):ic(a)},c.unescape=function(a){return a==E?"":(a+"").replace(N,m)},c.union=function(){for(var a=-1,b=[],c=Y.apply(b,arguments),d=c.length;++a<d;)0>v(b,c[a])&&b.push(c[a]);return b},c.uniq=z,c.uniqueId=function(a){var b=J++;return a?a+b:b},c.values=ic,c.where=xc,c.without=function(a){var b=[];if(!a)return b;for(var c=-1,d=a.length,e=f(arguments,1,20);++c<d;)e(a[c])||b.push(a[c]);return b},c.wrap=function(a,b){return function(){var c=[a];return arguments.length&&$.apply(c,arguments),b.apply(this,c)}},c.zip=function(a){if(!a)return[];for(var b=-1,c=w(sc(arguments,"length")),d=Array(c);++b<c;)d[b]=sc(arguments,b);return d},c.all=lc,c.any=vc,c.collect=rc,c.detect=nc,c.drop=x,c.each=oc,c.foldl=tc,c.foldr=s,c.head=t,c.include=jc,c.inject=tc,c.methods=ac,c.select=mc,c.tail=x,c.take=t,c.unique=z,oc({Date:nb,Number:ob,RegExp:qb,String:rb},function(a,b){c["is"+b]=function(b){return bb.call(b)==a}}),d.prototype=c.prototype,C(c),d.prototype.chain=function(){return this.__chain__=D,this},d.prototype.value=function(){return this.__wrapped__},oc("pop push reverse shift sort splice unshift".split(" "),function(a){var b=H[a];d.prototype[a]=function(){var a=this.__wrapped__;return b.apply(a,arguments),vb&&a.length===0&&delete a[0],this.__chain__&&(a=new d(a),a.__chain__=D),a}}),oc(["concat","join","slice"],function(a){var b=H[a];d.prototype[a]=function(){var a=b.apply(this.__wrapped__,arguments);return this.__chain__&&(a=new d(a),a.__chain__=D),a}}),typeof define=="function"&&typeof define.amd=="object"&&define.amd?(a._=c,define(function(){return c})):G?"object"==typeof module&&module&&module.exports==G?(module.exports=c)._=c:G._=c:a._=c})(this),function(){var a=this,b=a.Backbone,c=Array.prototype.slice,d=Array.prototype.splice,e;e="undefined"!=typeof exports?exports:a.Backbone={},e.VERSION="0.9.2";var f=a._;!f&&"undefined"!=typeof require&&(f=require("underscore"));var g=a.jQuery||a.Zepto||a.ender;e.setDomLibrary=function(a){g=a},e.noConflict=function(){return a.Backbone=b,this},e.emulateHTTP=!1,e.emulateJSON=!1;var h=/\s+/,i=e.Events={on:function(a,b,c){var d,e,f,g,i;if(!b)return this;a=a.split(h);for(d=this._callbacks||(this._callbacks={});e=a.shift();)f=(i=d[e])?i.tail:{},f.next=g={},f.context=c,f.callback=b,d[e]={tail:g,next:i?i.next:f};return this},off:function(a,b,c){var d,e,g,i,j,k;if(e=this._callbacks){if(!a&&!b&&!c)return delete this._callbacks,this;for(a=a?a.split(h):f.keys(e);d=a.shift();)if(g=e[d],delete e[d],g&&(b||c))for(i=g.tail;(g=g.next)!==i;)(j=g.callback,k=g.context,b&&j!==b||c&&k!==c)&&this.on(d,j,k);return this}},trigger:function(a){var b,d,e,f,g,i;if(!(e=this._callbacks))return this;g=e.all,a=a.split(h);for(i=c.call(arguments,1);b=a.shift();){if(d=e[b])for(f=d.tail;(d=d.next)!==f;)d.callback.apply(d.context||this,i);if(d=g){f=d.tail;for(b=[b].concat(i);(d=d.next)!==f;)d.callback.apply(d.context||this,b)}}return this}};i.bind=i.on,i.unbind=i.off;var j=e.Model=function(a,b){var c;a||(a={}),b&&b.parse&&(a=this.parse(a));if(c=y(this,"defaults"))a=f.extend({},c,a);b&&b.collection&&(this.collection=b.collection),this.attributes={},this._escapedAttributes={},this.cid=f.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(a,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=f.clone(this.attributes),this.initialize.apply(this,arguments)};f.extend(j.prototype,i,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;return(b=this._escapedAttributes[a])?b:(b=this.get(a),this._escapedAttributes[a]=f.escape(null==b?"":""+b))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e;f.isObject(a)||null==a?(d=a,c=b):(d={},d[a]=b),c||(c={});if(!d)return this;d instanceof j&&(d=d.attributes);if(c.unset)for(e in d)d[e]=void 0;if(!this._validate(d,c))return!1;this.idAttribute in d&&(this.id=d[this.idAttribute]);var b=c.changes={},g=this.attributes,h=this._escapedAttributes,i=this._previousAttributes||{};for(e in d){a=d[e];if(!f.isEqual(g[e],a)||c.unset&&f.has(g,e))delete h[e],(c.silent?this._silent:b)[e]=!0;c.unset?delete g[e]:g[e]=a,!f.isEqual(i[e],a)||f.has(g,e)!=f.has(i,e)?(this.changed[e]=a,c.silent||(this._pending[e]=!0)):(delete this.changed[e],delete this._pending[e])}return c.silent||this.change(c),this},unset:function(a,b){return(b||(b={})).unset=!0,this.set(a,null,b)},clear:function(a){return(a||(a={})).unset=!0,this.set(f.clone(this.attributes),a)},fetch:function(a){var a=a?f.clone(a):{},b=this,c=a.success;return a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)},a.error=e.wrapError(a.error,b,a),(this.sync||e.sync).call(this,"read",this,a)},save:function(a,b,c){var d,g;f.isObject(a)||null==a?(d=a,c=b):(d={},d[a]=b),c=c?f.clone(c):{};if(c.wait){if(!this._validate(d,c))return!1;g=f.clone(this.attributes)}a=f.extend({},c,{silent:!0});if(d&&!this.set(d,c.wait?a:c))return!1;var h=this,i=c.success;return c.success=function(a,b,e){b=h.parse(a,e),c.wait&&(delete c.wait,b=f.extend(d||{},b));if(!h.set(b,c))return!1;i?i(h,a):h.trigger("sync",h,a,c)},c.error=e.wrapError(c.error,h,c),b=this.isNew()?"create":"update",b=(this.sync||e.sync).call(this,b,this,c),c.wait&&this.set(g,a),b},destroy:function(a){var a=a?f.clone(a):{},b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew())return d(),!1;a.success=function(e){a.wait&&d(),c?c(b,e):b.trigger("sync",b,e,a)},a.error=e.wrapError(a.error,b,a);var g=(this.sync||e.sync).call(this,"delete",this,a);return a.wait||d(),g},url:function(){var a=y(this,"urlRoot")||y(this.collection,"url")||z();return this.isNew()?a:a+("/"==a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(a){a||(a={});var b=this._changing;this._changing=!0;for(var c in this._silent)this._pending[c]=!0;var d=f.extend({},a.changes,this._silent);this._silent={};for(c in d)this.trigger("change:"+c,this,this.get(c),a);if(b)return this;for(;!f.isEmpty(this._pending);){this._pending={},this.trigger("change",this,a);for(c in this.changed)!this._pending[c]&&!this._silent[c]&&delete this.changed[c];this._previousAttributes=f.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(a){return arguments.length?f.has(this.changed,a):!f.isEmpty(this.changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var b,c=!1,d=this._previousAttributes,e;for(e in a)f.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;var a=f.extend({},this.attributes,a),c=this.validate(a,b);return c?(b&&b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1):!0}});var k=e.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,{silent:!0,parse:b.parse})};f.extend(k.prototype,i,{model:j,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(a,b){var c,e,g,h,i,j={},k={},l=[];b||(b={}),a=f.isArray(a)?a.slice():[a],c=0;for(e=a.length;c<e;c++){if(!(g=a[c]=this._prepareModel(a[c],b)))throw Error("Can't add an invalid model to a collection");h=g.cid,i=g.id,j[h]||this._byCid[h]||null!=i&&(k[i]||this._byId[i])?l.push(c):j[h]=k[i]=g}for(c=l.length;c--;)a.splice(l[c],1);c=0;for(e=a.length;c<e;c++)(g=a[c]).on("all",this._onModelEvent,this),this._byCid[g.cid]=g,null!=g.id&&(this._byId[g.id]=g);this.length+=e,d.apply(this.models,[null!=b.at?b.at:this.models.length,0].concat(a)),this.comparator&&this.sort({silent:!0});if(b.silent)return this;c=0;for(e=this.models.length;c<e;c++)j[(g=this.models[c]).cid]&&(b.index=c,g.trigger("add",g,this,b));return this},remove:function(a,b){var c,d,e,g;b||(b={}),a=f.isArray(a)?a.slice():[a],c=0;for(d=a.length;c<d;c++)if(g=this.getByCid(a[c])||this.get(a[c]))delete this._byId[g.id],delete this._byCid[g.cid],e=this.indexOf(g),this.models.splice(e,1),this.length--,b.silent||(b.index=e,g.trigger("remove",g,this,b)),this._removeReference(g);return this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,b),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,f.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(a){return f.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");var b=f.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("reset",this,a),this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]),b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);return this._reset(),this.add(a,f.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},fetch:function(a){a=a?f.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d,e,f){b[a.add?"add":"reset"](b.parse(d,f),a),c&&c(b,d)},a.error=e.wrapError(a.error,b,a),(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this,b=b?f.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;return b.success=function(e,f){b.wait&&c.add(e,b),d?d(e,f):e.trigger("sync",a,f,b)},a.save(null,b),a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(a,b){return b||(b={}),a instanceof j?a.collection||(a.collection=this):(b.collection=this,a=new this.model(a,b),a._validate(a.attributes,b)||(a=!1)),a},_removeReference:function(a){this==a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"==a||"remove"==a)&&c!=this||("destroy"==a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}}),f.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),function(a){k.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});var l=e.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},m=/:\w+/g,n=/\*\w+/g,o=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(l.prototype,i,{initialize:function(){},route:function(a,b,c){return e.history||(e.history=new p),f.isRegExp(a)||(a=this._routeToRegExp(a)),c||(c=this[b]),e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d),c&&c.apply(this,d),this.trigger.apply(this,["route:"+b].concat(d)),e.history.trigger("route",this,b,d)},this)),this},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){return a=a.replace(o,"\\$&").replace(m,"([^/]+)").replace(n,"(.*?)"),RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var p=e.History=function(){this.handlers=[],f.bindAll(this,"checkUrl")},q=/^[#\/]/,r=/msie [\w.]+/;p.started=!1,f.extend(p.prototype,i,{interval:50,getHash:function(a){return(a=(a?a.location:window.location).href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||b){var a=window.location.pathname,c=window.location.search;c&&(a+=c)}else a=this.getHash();return a.indexOf(this.options.root)||(a=a.substr(this.options.root.length)),a.replace(q,"")},start:function(a){if(p.started)throw Error("Backbone.history has already been started");p.started=!0,this.options=f.extend({},{root:"/"},this.options,a),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var a=this.getFragment(),b=document.documentMode;if(b=r.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!b?g(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=a,a=window.location,b=a.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&b&&a.hash&&(this.fragment=this.getHash().replace(q,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){g(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),p.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a==this.fragment)return!1;this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!p.started)return!1;if(!b||!0===b)b={trigger:b};var c=(a||"").replace(q,"");this.fragment!=c&&(this._hasPushState?(0!=c.indexOf(this.options.root)&&(c=this.options.root+c),this.fragment=c,window.history[b.replace?"replaceState":"pushState"]({},document.title,c)):this._wantsHashChange?(this.fragment=c,this._updateHash(window.location,c,b.replace),this.iframe&&c!=this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a))},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,"")+"#"+b):a.hash=b}});var s=e.View=function(a){this.cid=f.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},t=/^(\S+)\s*(.*)$/,u="model,collection,el,id,attributes,className,tagName".split(",");f.extend(s.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(a,b,c){return a=document.createElement(a),b&&g(a).attr(b),c&&g(a).html(c),a},setElement:function(a,b){return this.$el&&this.undelegateEvents(),this.$el=a instanceof g?a:g(a),this.el=this.$el[0],!1!==b&&this.delegateEvents(),this},delegateEvents:function(a){if(a||(a=y(this,"events"))){this.undelegateEvents();for(var b in a){var c=a[b];f.isFunction(c)||(c=this[a[b]]);if(!c)throw Error('Method "'+a[b]+'" does not exist');var d=b.match(t),e=d[1],d=d[2],c=f.bind(c,this),e=e+(".delegateEvents"+this.cid);""===d?this.$el.bind(e,c):this.$el.delegate(d,e,c)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=u.length;b<c;b++){var d=u[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var a=y(this,"attributes")||{};this.id&&(a.id=this.id),this.className&&(a["class"]=this.className),this.setElement(this.make(this.tagName,a),!1)}}}),j.extend=k.extend=l.extend=s.extend=function(a,b){var c=x(this,a,b);return c.extend=this.extend,c};var v={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=v[a];c||(c={});var h={type:d,dataType:"json"};return c.url||(h.url=y(b,"url")||z()),!c.data&&b&&("create"==a||"update"==a)&&(h.contentType="application/json",h.data=JSON.stringify(b.toJSON())),e.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}),e.emulateHTTP&&("PUT"===d||"DELETE"===d)&&(e.emulateJSON&&(h.data._method=d),h.type="POST",h.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}),"GET"!==h.type&&!e.emulateJSON&&(h.processData=!1),g.ajax(f.extend(h,c))},e.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d,a?a(b,e,c):b.trigger("error",b,e,c)}};var w=function(){},x=function(a,b,c){var d;return d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){a.apply(this,arguments)},f.extend(d,a),w.prototype=a.prototype,d.prototype=new w,b&&f.extend(d.prototype,b),c&&f.extend(d,c),d.prototype.constructor=d,d.__super__=a.prototype,d},y=function(a,b){return!a||!a[b]?null:f.isFunction(a[b])?a[b]():a[b]},z=function(){throw Error('A "url" property or function must be specified')}}.call(this),webapp.Views.applicationView=Backbone.View.extend({}),webapp.Models.ApplicationModel=Backbone.Model.extend({}),webapp.Collections.ApplicationCollection=Backbone.Collection.extend({model:webapp.Models.ApplicationModel}),webapp.Routers.ApplicationRouter=Backbone.Router.extend({});